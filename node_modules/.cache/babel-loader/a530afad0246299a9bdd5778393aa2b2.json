{"ast":null,"code":"var _jsxFileName = \"/home/jorg/Downloads/REPOSITORIOS UD/proyecto_frontend_v0.7.0/gestion_inventarios_frontend-develop/src/pages/Traslado/trasladoIndividual.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Card, CardBody, Button, FormGroup, Modal, ModalFooter } from 'reactstrap';\nimport { activateAuthLayout } from '../../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\nimport { getLoggedInUser } from './../../helpers/authUtils';\nimport { getBienesDependencia, getUsuarioById, getDependenciaEncargado, trasladoBienes, trasladoDependencia, getAprobador } from './../../helpers/fetch';\nimport { getCargos } from './../../helpers/utils';\nimport TrasladoDependenciaTable from '../Tables/trasladoDependenciaTable';\nimport { createProcess } from './../../helpers/httpRequest';\n\nclass TrasladoIndividual extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      user: getLoggedInUser(),\n      show: false,\n      Bienes: [],\n      userEntrega: null,\n      userRecibe: null,\n      showRecibe: false,\n      Dependencias: [],\n      idDependencia: '',\n      showBienes: false,\n      modal: false,\n      BienesSelected: [],\n      userEncargado: null,\n      userAutoriza: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.submitIdRecibe = this.submitIdRecibe.bind(this);\n    this.toggleModal = this.toggleModal.bind(this);\n    this.handleSubmitForm = this.handleSubmitForm.bind(this);\n    this.getBienesCheck = this.getBienesCheck.bind(this);\n  }\n\n  async componentDidMount() {\n    const {\n      user\n    } = this.state;\n\n    try {\n      const result = await getDependenciaEncargado({\n        idDependencia: user.dependencia.id\n      });\n      let userAutoriza;\n\n      if (result.data.encargado_dependencia.length === 0) {\n        userAutoriza = user;\n      } else {\n        userAutoriza = result.data.encargado_dependencia[0].usuario;\n      }\n\n      this.setState({\n        userEncargado: result.data.encargado_dependencia[0],\n        userAutoriza,\n        loading: false\n      });\n    } catch (error) {\n      console.log(error);\n      alert('Error en el servidor');\n    }\n  }\n\n  async submitIdRecibe(event, values) {\n    const {\n      user\n    } = this.state;\n\n    if (Number(user.id) === Number(values.id)) {\n      alert('El usuario que recibe no puede ser el mismo que entrega');\n      return;\n    }\n\n    const result = await getUsuarioById({\n      id: values.id\n    });\n    if (result.data.usuario.length === 0) alert('Usuario no existe');else {\n      const usuario = result.data.usuario[0];\n      const idSede = Number(user.dependencia.sede.id);\n      const idDependencia = Number(user.dependencia.id);\n      const idRol = Number(user.auth.rol.id);\n      let res;\n\n      if (idRol === 4) {\n        res = await getBienesDependencia({\n          idSede,\n          idDependencia,\n          fk_usuario: user.id\n        }, idRol);\n      } else {\n        res = await getBienesDependencia({\n          idSede,\n          idDependencia\n        }, idRol);\n      }\n\n      this.setState({\n        userRecibe: usuario,\n        show: true,\n        Bienes: res.data.bien,\n        idDestino: values.id,\n        idDependenciaDestino: usuario.dependencia.id\n      });\n    }\n  }\n\n  toggleModal() {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }));\n  }\n\n  async getBienesCheck(data) {\n    this.setState({\n      BienesSelected: data\n    });\n  }\n\n  async handleSubmitForm() {\n    const {\n      BienesSelected\n    } = this.state;\n\n    if (BienesSelected.length === 0) {\n      alert('No se ha escogido ningÃºn bien');\n      return;\n    }\n\n    await this.setState({\n      modal: true\n    });\n  }\n\n  async handleSubmit() {\n    const {\n      userRecibe,\n      BienesSelected,\n      user,\n      idDestino,\n      idDependenciaDestino\n    } = this.state;\n\n    try {\n      await trasladoDependencia({\n        fk_dependencia: Number(user.dependencia.id),\n        fk_usuario: userRecibe.id\n      });\n      await trasladoBienes({\n        fk_usuario: userRecibe.id\n      }, BienesSelected);\n      await this.setState({\n        modal: false\n      });\n      let BienesId = [];\n      let cambios = [];\n      BienesSelected.map(async item => {\n        BienesId.push(item.id);\n        cambios.push({\n          id: item.id,\n          fk_usuario: idDestino,\n          fk_estado: 1,\n          fk_dependencia: idDependenciaDestino\n        });\n      });\n      const data = {\n        descripcion: \"Traslado de bienes individuales\",\n        razon: \"Usuario solicito realizar un traslado de bienes individuales\",\n        contratista: \"contratista\",\n        bienes: BienesId,\n        fk_usuario: Number(user.id),\n        fk_usuario_aprobador: Number(user.id),\n        cambios: {\n          bienes: cambios\n        },\n        fk_usuario_destino: Number(idDestino),\n        fk_tipo_solicitud: 5\n      };\n      await createProcess(data);\n      alert('Bienes trasladados correctamentes');\n      this.props.history.push('/');\n    } catch (error) {\n      alert('Error en el servidor');\n    }\n  }\n\n  render() {\n    const {\n      user,\n      show,\n      Bienes,\n      userRecibe,\n      userAutoriza\n    } = this.state;\n    const errorMessage = 'Campo requerido';\n    return (\n      /*#__PURE__*/\n      React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 17\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Row, {\n        className: \"align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 29\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h4\", {\n        className: \"page-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 33\n        }\n      }, \"TRASLADO DE BIEN INDIVIDUAL\")))),\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 29\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 33\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 37\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"6\",\n        className: \"subtitulo-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 41\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 45\n        }\n      }, \"Dependencia\"),\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 45\n        }\n      }, user.dependencia.dependencia))),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 37\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 37\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"4\",\n        className: \"subtitulo-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 41\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 45\n        }\n      }, \"Quien Autoriza \"))), userAutoriza.length === 0 ? '' :\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 41\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 52\n        }\n      }, \"Identificaci\\xF3n:\"), \" \", userAutoriza.id)),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 52\n        }\n      }, \"Funcionario:\"), \" \", userAutoriza.nombres, \" \", userAutoriza.apellidos)),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 52\n        }\n      }, \"Correo:\"), \" \", userAutoriza.correo)),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 52\n        }\n      }, \"Cargo:\"), \" \", getCargos(userAutoriza.cargos)))),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 37\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 37\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"4\",\n        className: \"subtitulo-form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 41\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 45\n        }\n      }, \"Quien Entrega \"))),\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 37\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 41\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 48\n        }\n      }, \"Identificaci\\xF3n:\"), \" \", user.id)),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 41\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 48\n        }\n      }, \"Funcionario:\"), \" \", user.nombres, \" \", user.apellidos)),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 41\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 48\n        }\n      }, \"Correo:\"), \" \", user.correo)),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 41\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 48\n        }\n      }, \"Cargo:\"), \" \", getCargos(user.cargos)))),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 37\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 37\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 41\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 45\n        }\n      }, \"Quien Recibe \"),\n      /*#__PURE__*/\n      React.createElement(AvForm, {\n        className: \"form-horizontal\",\n        inline: true,\n        onValidSubmit: this.submitIdRecibe,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(AvField, {\n        name: \"id\",\n        disabled: show,\n        type: \"text\",\n        placeholder: \"Ingrese la Identificaci\\xF3n\",\n        label: \"Identificaci\\xF3n\",\n        validate: {\n          required: {\n            value: true,\n            errorMessage: errorMessage\n          },\n          pattern: {\n            value: '^[0-9]+$',\n            errorMessage: 'Solo valores nÃºmericos'\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 53\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Button, {\n        color: \"primary\",\n        className: \"w-md waves-effect waves-light\",\n        type: \"submit\",\n        grid: {\n          xs: 8\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 53\n        }\n      }, \"Buscar\"))))),\n      /*#__PURE__*/\n      React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 37\n        }\n      }), !show ? '' :\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 41\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 52\n        }\n      }, \"Funcionario:\"), \" \", userRecibe.nombres, \" \", user.apellidos)),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 52\n        }\n      }, \"Correo:\"), \" \", userRecibe.correo)),\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 45\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 53\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        style: {\n          fontWeight: 'bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 56\n        }\n      }, \"Cargo:\"), \" \", getCargos(userRecibe.cargos)))),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 37\n        }\n      }), !show ? '' : Bienes.length === 0 ? alert('No hay bienes en esta busqueda') :\n      /*#__PURE__*/\n      React.createElement(TrasladoDependenciaTable, {\n        Bienes: Bienes,\n        callback: this.getBienesCheck,\n        check: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 49\n        }\n      }), !show ? '' : Bienes.length === 0 ? '' :\n      /*#__PURE__*/\n      React.createElement(Row, {\n        className: \"form-group m-t-20\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        md: \"12\",\n        className: \"text-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 53\n        }\n      }, this.state.loading ?\n      /*#__PURE__*/\n      React.createElement(Button, {\n        color: \"primary\",\n        className: \"w-md waves-effect waves-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 79\n        }\n      }, \"Cargando ...\") :\n      /*#__PURE__*/\n      React.createElement(Button, {\n        color: \"primary\",\n        className: \"w-md waves-effect waves-light\",\n        onClick: this.handleSubmitForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 61\n        }\n      }, \"Realizar Traslado\"))))))),\n      /*#__PURE__*/\n      React.createElement(Modal, {\n        isOpen: this.state.modal,\n        toggle: this.toggleModal,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: \"modal-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h5\", {\n        className: \"modal-title mt-0\",\n        id: \"confirmacion\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 29\n        }\n      }, \"\\xBFEstas seguro de realizar esta acci\\xF3n?\"),\n      /*#__PURE__*/\n      React.createElement(\"button\", {\n        type: \"button\",\n        onClick: () => this.setState({\n          modal: false\n        }),\n        className: \"close\",\n        \"data-dismiss\": \"modal\",\n        \"aria-label\": \"Close\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 29\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"span\", {\n        \"aria-hidden\": \"true\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 33\n        }\n      }, \"\\xD7\"))),\n      /*#__PURE__*/\n      React.createElement(ModalFooter, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Button, {\n        type: \"button\",\n        color: \"secondary\",\n        onClick: () => this.setState({\n          modal: false\n        }),\n        className: \"waves-effect\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 29\n        }\n      }, \"Close\"),\n      /*#__PURE__*/\n      React.createElement(Button, {\n        type: \"button\",\n        color: \"primary\",\n        className: \"waves-effect waves-light\",\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 29\n        }\n      }, \"Confimar\")))))\n    );\n  }\n\n}\n\nexport default withRouter(connect(null, {\n  activateAuthLayout\n})(TrasladoIndividual));","map":{"version":3,"sources":["/home/jorg/Downloads/REPOSITORIOS UD/proyecto_frontend_v0.7.0/gestion_inventarios_frontend-develop/src/pages/Traslado/trasladoIndividual.js"],"names":["React","Component","Container","Row","Col","Card","CardBody","Button","FormGroup","Modal","ModalFooter","activateAuthLayout","withRouter","connect","AvForm","AvField","getLoggedInUser","getBienesDependencia","getUsuarioById","getDependenciaEncargado","trasladoBienes","trasladoDependencia","getAprobador","getCargos","TrasladoDependenciaTable","createProcess","TrasladoIndividual","constructor","props","state","loading","user","show","Bienes","userEntrega","userRecibe","showRecibe","Dependencias","idDependencia","showBienes","modal","BienesSelected","userEncargado","userAutoriza","handleSubmit","bind","submitIdRecibe","toggleModal","handleSubmitForm","getBienesCheck","componentDidMount","result","dependencia","id","data","encargado_dependencia","length","usuario","setState","error","console","log","alert","event","values","Number","idSede","sede","idRol","auth","rol","res","fk_usuario","bien","idDestino","idDependenciaDestino","prevState","fk_dependencia","BienesId","cambios","map","item","push","fk_estado","descripcion","razon","contratista","bienes","fk_usuario_aprobador","fk_usuario_destino","fk_tipo_solicitud","history","render","errorMessage","fontWeight","nombres","apellidos","correo","cargos","required","value","pattern","xs"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Container, Row, Col, Card, CardBody, Button, FormGroup, Modal, ModalFooter } from 'reactstrap';\nimport { activateAuthLayout } from '../../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { AvForm, AvField } from 'availity-reactstrap-validation';\nimport { getLoggedInUser } from './../../helpers/authUtils'\nimport { getBienesDependencia, getUsuarioById, getDependenciaEncargado,\n    trasladoBienes, trasladoDependencia, getAprobador  } from './../../helpers/fetch'\nimport { getCargos } from './../../helpers/utils'\nimport TrasladoDependenciaTable from '../Tables/trasladoDependenciaTable';\nimport { createProcess } from './../../helpers/httpRequest'\n\nclass TrasladoIndividual extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: false,\n            user: getLoggedInUser(),\n            show: false,\n            Bienes: [],\n            userEntrega: null,\n            userRecibe: null,\n            showRecibe: false,\n            Dependencias: [],\n            idDependencia: '',\n            showBienes: false,\n            modal: false,\n            BienesSelected: [],\n            userEncargado: null,\n            userAutoriza: []\n        };\n\n        this.handleSubmit = this.handleSubmit.bind(this)\n        this.submitIdRecibe = this.submitIdRecibe.bind(this)\n        this.toggleModal = this.toggleModal.bind(this)\n        this.handleSubmitForm = this.handleSubmitForm.bind(this)\n        this.getBienesCheck = this.getBienesCheck.bind(this)\n    }\n\n    async componentDidMount() {\n        const { user } = this.state;\n        try {\n            const result = await getDependenciaEncargado({idDependencia: user.dependencia.id}) \n            let userAutoriza\n            if(result.data.encargado_dependencia.length === 0) {\n                userAutoriza = user\n            }\n            else {\n                userAutoriza = result.data.encargado_dependencia[0].usuario\n            }\n            this.setState({ \n                userEncargado: result.data.encargado_dependencia[0],\n                userAutoriza,\n                loading: false\n            })\n            \n        } catch (error) {\n            console.log(error);\n            alert('Error en el servidor')\n        }\n    }\n\n    async submitIdRecibe(event, values) {\n        const { user } = this.state\n        if (Number(user.id) === Number(values.id)) {\n            alert('El usuario que recibe no puede ser el mismo que entrega')\n            return;\n        }\n        const result = await getUsuarioById({ id: values.id })\n        if (result.data.usuario.length === 0)\n            alert('Usuario no existe')\n        else {\n            const usuario = result.data.usuario[0]\n            const idSede = Number(user.dependencia.sede.id)\n            const idDependencia = Number(user.dependencia.id)\n            const idRol = Number(user.auth.rol.id)\n            let res\n            if(idRol === 4) {\n                res = await getBienesDependencia({ idSede, idDependencia, fk_usuario: user.id }, idRol)\n            }\n            else {\n                res = await getBienesDependencia({ idSede, idDependencia }, idRol)\n            }\n            this.setState({\n                userRecibe: usuario,\n                show: true,\n                Bienes: res.data.bien,\n                idDestino: values.id,\n                idDependenciaDestino: usuario.dependencia.id,\n            })\n        }\n    }\n\n    toggleModal() {\n        this.setState(prevState => ({\n            modal: !prevState.modal\n        }));\n    }\n\n    async getBienesCheck(data) {\n        this.setState({ BienesSelected: data})\n    }\n\n    async handleSubmitForm() {\n        const { BienesSelected} = this.state;\n        if(BienesSelected.length === 0) {\n            alert('No se ha escogido ningÃºn bien')\n            return;\n        }\n        await this.setState({ modal: true})\n    }\n\n    async handleSubmit() {\n        const { userRecibe, BienesSelected, user, idDestino, idDependenciaDestino } = this.state;\n        try {\n            await trasladoDependencia({fk_dependencia: Number(user.dependencia.id), fk_usuario: userRecibe.id})\n            await trasladoBienes({fk_usuario: userRecibe.id}, BienesSelected)\n            await this.setState({ modal: false })\n            let BienesId = []\n            let cambios = []\n            BienesSelected.map( async item => {\n                BienesId.push(item.id)\n                cambios.push({ id: item.id, fk_usuario: idDestino, fk_estado: 1, fk_dependencia: idDependenciaDestino})\n            })\n            const data = {\n                descripcion: \"Traslado de bienes individuales\",\n                razon: \"Usuario solicito realizar un traslado de bienes individuales\",\n                contratista: \"contratista\",\n                bienes: BienesId,\n                fk_usuario: Number(user.id),\n                fk_usuario_aprobador: Number(user.id),\n                cambios: {\n                    bienes: cambios\n                },\n                fk_usuario_destino: Number(idDestino),\n                fk_tipo_solicitud: 5,\n            }\n            await createProcess(data)\n            alert('Bienes trasladados correctamentes')\n            this.props.history.push('/');\n        } catch (error) {\n            alert('Error en el servidor')\n        }\n    }\n\n    render() {\n        const { user, show, Bienes, userRecibe, userAutoriza } = this.state\n        const errorMessage = 'Campo requerido'\n        return (\n            <React.Fragment>\n                <Container fluid>\n                    <div className=\"page-title-box\">\n                        <Row className=\"align-items-center\">\n                            <Col sm=\"12\">\n                                <h4 className=\"page-title\">TRASLADO DE BIEN INDIVIDUAL</h4>\n                            </Col>\n                        </Row>\n                    </div>\n                    <Row>\n                        <Col>\n                            <Card>\n                                <CardBody>\n                                    <Row>\n                                        <Col sm='6' className=\"subtitulo-form\">\n                                            <h5>Dependencia</h5>\n                                            <p>{user.dependencia.dependencia}</p>\n                                        </Col>\n                                    </Row>\n                                    <hr></hr>\n                                    <Row>\n                                        <Col sm='4' className=\"subtitulo-form\">\n                                            <h5>Quien Autoriza </h5>\n                                        </Col>\n                                    </Row>\n                                    {\n                                        userAutoriza.length === 0 ? '' :\n                                        <Row>\n                                            <Col sm='3'>\n                                                <p><span style={{ fontWeight: 'bold' }}>Identificaci&oacute;n:</span> {userAutoriza.id}</p>\n                                            </Col>\n                                            <Col sm='3'>\n                                                <p><span style={{ fontWeight: 'bold' }}>Funcionario:</span> {userAutoriza.nombres} {userAutoriza.apellidos}</p>\n                                            </Col>\n                                            <Col sm='3'>\n                                                <p><span style={{ fontWeight: 'bold' }}>Correo:</span> {userAutoriza.correo}</p>\n                                            </Col>\n                                            <Col sm='3'>\n                                                <p><span style={{ fontWeight: 'bold' }}>Cargo:</span> {getCargos(userAutoriza.cargos)}</p>\n                                            </Col>\n                                        </Row>\n                                    }\n                                    <hr></hr>\n                                    <Row>\n                                        <Col sm='4' className=\"subtitulo-form\">\n                                            <h5>Quien Entrega </h5>\n                                        </Col>\n                                    </Row>\n                                    <Row>\n                                        <Col sm='3'>\n                                            <p><span style={{ fontWeight: 'bold' }}>Identificaci&oacute;n:</span> {user.id}</p>\n                                        </Col>\n                                        <Col sm='3'>\n                                            <p><span style={{ fontWeight: 'bold' }}>Funcionario:</span> {user.nombres} {user.apellidos}</p>\n                                        </Col>\n                                        <Col sm='3'>\n                                            <p><span style={{ fontWeight: 'bold' }}>Correo:</span> {user.correo}</p>\n                                        </Col>\n                                        <Col sm='3'>\n                                            <p><span style={{ fontWeight: 'bold' }}>Cargo:</span> {getCargos(user.cargos)}</p>\n                                        </Col>\n                                    </Row>\n                                    <hr></hr>\n                                    <Row>\n                                        <Col sm='6'>\n                                            <h5>Quien Recibe </h5>\n                                            <AvForm className=\"form-horizontal\" inline onValidSubmit={this.submitIdRecibe}>\n                                                <FormGroup>\n                                                    <AvField name=\"id\" disabled={show} type=\"text\" placeholder=\"Ingrese la Identificaci&oacute;n\" label=\"Identificaci&oacute;n\" validate={{\n                                                        required: { value: true, errorMessage: errorMessage },\n                                                        pattern: { value: '^[0-9]+$', errorMessage: 'Solo valores nÃºmericos' },\n                                                        }} />\n                                                    <Button color=\"primary\" className=\"w-md waves-effect waves-light\" type=\"submit\" grid={{ xs: 8 }}>Buscar</Button>\n                                                </FormGroup>\n                                            </AvForm>\n                                        </Col>\n                                    </Row>\n                                    <br></br>\n                                    {\n                                        !show ? '' :\n                                        <Row>\n                                            <Col sm='4'>\n                                                <p><span style={{ fontWeight: 'bold' }}>Funcionario:</span> {userRecibe.nombres} {user.apellidos}</p>\n                                            </Col>\n                                            <Col sm='4'>\n                                                <p><span style={{ fontWeight: 'bold' }}>Correo:</span> {userRecibe.correo}</p>\n                                            </Col>\n                                            <Col sm='4'>\n                                                    <p><span style={{ fontWeight: 'bold' }}>Cargo:</span> {getCargos(userRecibe.cargos)}</p>\n                                            </Col>\n                                        </Row> \n                                    }\n                                    <hr></hr>\n                                    {\n                                        !show ? '' :\n                                            Bienes.length === 0 ? alert('No hay bienes en esta busqueda') :\n                                                <TrasladoDependenciaTable Bienes={Bienes} callback={this.getBienesCheck} check={true}/>\n                                    }\n                                    {\n                                        !show ? '' :\n                                            Bienes.length === 0 ? '' :\n                                                <Row className=\"form-group m-t-20\">\n                                                    <Col md=\"12\" className=\"text-right\">\n                                                        {this.state.loading ? <Button color=\"primary\" className=\"w-md waves-effect waves-light\">Cargando ...</Button> :\n                                                            <Button color=\"primary\" className=\"w-md waves-effect waves-light\" onClick={this.handleSubmitForm}>Realizar Traslado</Button>}\n                                                    </Col>\n                                                </Row>\n                                    }\n                                </CardBody>\n                            </Card>\n                        </Col>\n                    </Row>\n                    \n                    <Modal isOpen={this.state.modal} toggle={this.toggleModal} >\n                        <div className=\"modal-header\">\n                            <h5 className=\"modal-title mt-0\" id=\"confirmacion\">Â¿Estas seguro de realizar esta acciÃ³n?</h5>\n                            <button type=\"button\" onClick={() => this.setState({ modal: false })} className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                                <span aria-hidden=\"true\">&times;</span>\n                            </button>\n                        </div>\n                        <ModalFooter>\n                            <Button type=\"button\" color=\"secondary\" onClick={ () => this.setState({ modal: false})} className=\"waves-effect\">Close</Button>\n                            <Button type=\"button\" color=\"primary\" className=\"waves-effect waves-light\" onClick={this.handleSubmit}>Confimar</Button>\n                        </ModalFooter>\n                    </Modal>\n\n                </Container>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withRouter(connect(null, { activateAuthLayout })(TrasladoIndividual));\n\n"]},"metadata":{},"sourceType":"module"}