{"ast":null,"code":"var _jsxFileName = \"/home/jorg/Downloads/REPOSITORIOS UD/proyecto_frontend_v0.7.0/gestion_inventarios_frontend-develop/src/pages/Profile/profile.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col, Card, CardBody } from 'reactstrap';\nimport { activateAuthLayout } from '../../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getLoggedInUser } from './../../helpers/authUtils';\nimport { getSedesDependencias } from './../../helpers/fetch';\nimport ChangePassword from './../UIElements/changePwd';\nimport DisableUser from './../UIElements/disableUser';\nimport AddSede from './../UIElements/addSede';\nimport AddDependencia from './../UIElements/addDependencia';\nimport ChangeRol from './../UIElements/changeRol';\nimport EditProfile from './../UIElements/editPerfil';\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: getLoggedInUser(),\n      modalUpdate: false,\n      show: false,\n      sedes: [],\n      dependencias: []\n    };\n    this.fetchSedes = this.fetchSedes.bind(this);\n  }\n\n  async componentDidMount() {\n    this.props.activateAuthLayout();\n    const {\n      user\n    } = this.state;\n    const length = Number(user.cargos.length);\n    await this.fetchSedes(user.dependencia.sede.id);\n    if (length === 2) await this.setState({\n      cargo1: user.cargos[1].cargo,\n      showCargo1: true\n    });\n    if (length === 3) await this.setState({\n      cargo1: user.cargos[1].cargo,\n      showCargo1: true,\n      cargo2: user.cargos[2].cargo,\n      showCargo2: true\n    });\n  }\n\n  async fetchSedes(idDependencia) {\n    const res = await getSedesDependencias();\n    this.setState({\n      sedes: res.data.sede\n    });\n    this.setState({\n      dependencias: res.data.sede.find(sede => sede.id === Number(idDependencia)).dependencia\n    });\n  }\n\n  render() {\n    const {\n      user,\n      sedes,\n      dependencias\n    } = this.state;\n    const idRol = Number(this.state.user.auth.rol.id);\n    return (\n      /*#__PURE__*/\n      React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Container, {\n        fluid: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Row, {\n        className: \"align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        sm: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 29\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(\"h4\", {\n        className: \"page-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 33\n        }\n      }, \"CONFIGURACI\\xD3N ALMACENISTA\")))),\n      /*#__PURE__*/\n      React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Col, {\n        xl: \"12\",\n        md: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Card, {\n        className: \"directory-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 33\n        }\n      }, idRol === 1 ?\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 41\n        }\n      }, dependencias.length === 0 ? '' :\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(EditProfile, {\n        user: user,\n        sedes: sedes,\n        dependencias: dependencias,\n        idRol: idRol,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 53\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 53\n        }\n      })),\n      /*#__PURE__*/\n      React.createElement(AddSede, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(AddDependencia, {\n        user: user,\n        sedes: sedes,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(DisableUser, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(ChangePassword, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 45\n        }\n      })) : idRol === 2 ?\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 41\n        }\n      }, dependencias.length === 0 ? '' :\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(EditProfile, {\n        user: user,\n        sedes: sedes,\n        dependencias: dependencias,\n        idRol: idRol,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 53\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 53\n        }\n      })),\n      /*#__PURE__*/\n      React.createElement(AddSede, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(AddDependencia, {\n        user: user,\n        sedes: sedes,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(ChangeRol, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(DisableUser, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 45\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(ChangePassword, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 45\n        }\n      })) : idRol === 3 ?\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 41\n        }\n      }, dependencias.length === 0 ? '' :\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(EditProfile, {\n        user: user,\n        sedes: sedes,\n        dependencias: dependencias,\n        idRol: idRol,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 53\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 53\n        }\n      })),\n      /*#__PURE__*/\n      React.createElement(ChangePassword, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 45\n        }\n      })) :\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 41\n        }\n      }, dependencias.length === 0 ? '' :\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 49\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(EditProfile, {\n        user: user,\n        sedes: sedes,\n        dependencias: dependencias,\n        idRol: idRol,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 53\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 53\n        }\n      })),\n      /*#__PURE__*/\n      React.createElement(ChangePassword, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 45\n        }\n      }))))))))\n    );\n  }\n\n}\n\nexport default withRouter(connect(null, {\n  activateAuthLayout\n})(Profile));","map":{"version":3,"sources":["/home/jorg/Downloads/REPOSITORIOS UD/proyecto_frontend_v0.7.0/gestion_inventarios_frontend-develop/src/pages/Profile/profile.js"],"names":["React","Component","Container","Row","Col","Card","CardBody","activateAuthLayout","withRouter","connect","getLoggedInUser","getSedesDependencias","ChangePassword","DisableUser","AddSede","AddDependencia","ChangeRol","EditProfile","Profile","constructor","props","state","user","modalUpdate","show","sedes","dependencias","fetchSedes","bind","componentDidMount","length","Number","cargos","dependencia","sede","id","setState","cargo1","cargo","showCargo1","cargo2","showCargo2","idDependencia","res","data","find","render","idRol","auth","rol"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Container, Row, Col, Card, CardBody } from 'reactstrap';\nimport { activateAuthLayout } from '../../store/actions';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getLoggedInUser } from './../../helpers/authUtils'\nimport { getSedesDependencias } from './../../helpers/fetch'\nimport ChangePassword from './../UIElements/changePwd'\nimport DisableUser from './../UIElements/disableUser'\nimport AddSede from './../UIElements/addSede'\nimport AddDependencia from './../UIElements/addDependencia'\nimport ChangeRol from './../UIElements/changeRol'\nimport EditProfile from './../UIElements/editPerfil'\n\nclass Profile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: getLoggedInUser(),\n            modalUpdate: false,\n            show: false, \n            sedes: [],\n            dependencias: []\n        };\n        this.fetchSedes = this.fetchSedes.bind(this)\n    }\n\n    async componentDidMount() {\n        this.props.activateAuthLayout();\n        const { user } = this.state;\n        const length = Number(user.cargos.length)\n        await this.fetchSedes(user.dependencia.sede.id);\n        if (length === 2)\n            await this.setState({ cargo1: user.cargos[1].cargo, showCargo1: true })\n        if (length === 3)\n            await this.setState({\n                cargo1: user.cargos[1].cargo, showCargo1: true,\n                cargo2: user.cargos[2].cargo, showCargo2: true\n            })\n    }\n\n    async fetchSedes(idDependencia) {\n        const res = await getSedesDependencias()\n        this.setState({ sedes: res.data.sede })\n        this.setState({ dependencias: res.data.sede.find(sede => sede.id === Number(idDependencia)).dependencia })\n    }\n\n    render() {\n        const { user, sedes, dependencias } = this.state\n        const idRol = Number(this.state.user.auth.rol.id)\n        return (\n            <React.Fragment>\n                <Container fluid>\n                    <div className=\"page-title-box\">\n                        <Row className=\"align-items-center\">\n                            <Col sm=\"12\">\n                                <h4 className=\"page-title\">CONFIGURACI&Oacute;N ALMACENISTA</h4>\n                            </Col>\n                        </Row>\n                    </div>\n                    <Row>\n                        <Col xl=\"12\" md=\"12\">\n                            <Card className=\"directory-card\">\n                                <CardBody>\n                                    {\n                                        idRol === 1 ?\n                                        <div>\n                                            {\n                                                dependencias.length === 0 ? ''\n                                                :\n                                                <div>\n                                                    <EditProfile user={user} sedes={sedes} dependencias={dependencias} idRol={idRol}></EditProfile>\n                                                    <hr></hr>\n                                                </div>\n                                            }\n                                            <AddSede user={user}></AddSede>\n                                            <hr></hr>\n                                            <AddDependencia user={user} sedes={sedes}></AddDependencia>\n                                            <hr></hr>\n                                            <DisableUser user={user}></DisableUser>\n                                            <hr></hr>\n                                            <ChangePassword user={user}></ChangePassword>\n                                        </div>\n                                        : \n                                        idRol === 2 ?\n                                        <div>\n                                            {\n                                                dependencias.length === 0 ? ''\n                                                :\n                                                <div>\n                                                    <EditProfile user={user} sedes={sedes} dependencias={dependencias} idRol={idRol}></EditProfile>\n                                                    <hr></hr>\n                                                </div>\n                                            }\n                                            <AddSede user={user}></AddSede>\n                                            <hr></hr>\n                                            <AddDependencia user={user} sedes={sedes}></AddDependencia>\n                                            <hr></hr>\n                                            <ChangeRol user={user}></ChangeRol>\n                                            <hr></hr>\n                                            <DisableUser user={user}></DisableUser>\n                                            <hr></hr>\n                                            <ChangePassword user={user}></ChangePassword>\n                                        </div>\n                                        :\n                                        idRol === 3 ? \n                                        <div>\n                                            {\n                                                dependencias.length === 0 ? ''\n                                                :\n                                                <div>\n                                                    <EditProfile user={user} sedes={sedes} dependencias={dependencias} idRol={idRol}></EditProfile>\n                                                    <hr></hr>\n                                                </div>\n                                            }\n                                            <ChangePassword user={user}></ChangePassword>\n                                        </div>\n                                        :\n                                        <div>\n                                            {\n                                                dependencias.length === 0 ? ''\n                                                :\n                                                <div>\n                                                    <EditProfile user={user} sedes={sedes} dependencias={dependencias} idRol={idRol}></EditProfile>\n                                                    <hr></hr>\n                                                </div>\n                                            }\n                                            <ChangePassword user={user}></ChangePassword>\n                                        </div>                                        \n                                    }\n                                </CardBody>\n                            </Card>\n                        </Col>\n                    </Row>\n                </ Container>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default withRouter(connect(null, { activateAuthLayout })(Profile));"]},"metadata":{},"sourceType":"module"}